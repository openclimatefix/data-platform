syntax = "proto3";

package ocf.dp;

import "ocf/dp/dp.messages.proto";

option go_package = "github.com/devsjc/fcfs/dp/internal/protogen/ocf/dp;dp";

service DataPlatformService {

  // --- QuartzUI ----------------------------------------------------------------

  /* GetPredictedTimeseries fetches a horizontal slice of predicted data:
   * i.e. many points in time at a single location.
   */
  rpc GetPredictedTimeseries(GetPredictedTimeseriesRequest) returns (GetPredictedTimeseriesResponse) {}
  /* GetPredictedTimeseriesDeltas fetches a horizontal slice of data:
   * i.e. many points in time at a single location.
   * The deltas represent the difference between the predicted and observed value at each time.
   */
  rpc GetPredictedTimeseriesDeltas(GetPredictedTimeseriesDeltasRequest) returns (GetPredictedTimeseriesDeltasResponse) {}
  /* GetPredictedCrossSection fetches a vertical slice of predicted data:
   * i.e. many locations at a single point in time.
   */
  rpc GetPredictedCrossSection(GetPredictedCrossSectionRequest) returns (GetPredictedCrossSectionResponse) {}
  /* GetObservedTimeseries fetches a horizontal slice of observed data:
   * i.e. many points in time at a single location.
   */
  rpc GetObservedTimeseries(GetObservedTimeseriesRequest) returns (GetObservedTimeseriesResponse) {}

  rpc GetLatestPredictions(GetLatestPredictionsRequest) returns (GetLatestPredictionsResponse) {}
  rpc GetLocationsAsGeoJSON(GetLocationsAsGeoJSONRequest) returns (GetLocationsAsGeoJSONResponse) {}

  // --- Crud ---------------------------------------------------------------------

  rpc CreateSite(CreateSiteRequest) returns (CreateSiteResponse) {}
  rpc CreateGsp(CreateGspRequest) returns (CreateGspResponse) {}

  rpc GetLocation(GetLocationRequest) returns (GetLocationResponse) {}

  rpc CreateModel(CreateModelRequest) returns (CreateModelResponse) {}
  rpc CreateForecast(CreateForecastRequest) returns (CreateForecastResponse) {}

  rpc CreateObserver(CreateObserverRequest) returns (CreateObserverResponse) {}
  rpc CreateObservations(CreateObservationsRequest) returns (CreateObservationsResponse) {}

  // --- Analysis ----------------------------------------------------------------

  rpc GetWeekAverageDeltas(GetWeekAverageDeltasRequest) returns (GetWeekAverageDeltasResponse) {}
}


